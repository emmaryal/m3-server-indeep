{"version":3,"sources":["lib/auth-service.js","context/auth-context.js","components/Navbar.js","components/Search.js","components/ChartsComponent.js","components/Pagination.js","pages/RecordListPage.js","pages/Home.js","pages/Signup.js","pages/Login.js","pages/Private.js","lib/records-service.js","components/CardSection.js","components/CheckoutForm.js","components/RecordDetails.js","pages/AddRecordPage.js","pages/UpdateRecordPage.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","email","name","password","profilePic","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","signup","setState","catch","err","login","logout","console","log","me","value","props","children","Component","withAuth","WrappedComponent","profilePlaceholder","className","to","id","src","alt","style","margin","width","height","onClick","Search","search","handleInput","event","target","filterRecords","Form","Group","controlId","Control","type","placeholder","onChange","ChartsComponent","getCurrentUser","currentUser","getNewReleases","recordsCopy","newReleases","slice","Math","max","length","map","record","_id","title","artist","label","price","ReactPagination","firstThreeArray","lastNumber","showEllipis","prev","currentPage","changeCurrentPage","next","totalPages","no","showEllipsis","isactive","showLastPage","showPrev","showNext","fArray","i","push","index","j","reverse","nextProps","theme","Fragment","RecordListPage","listOfRecords","currentRecords","numPage","getAllRecords","apiResponse","input","finder","filter","el","toLowerCase","includes","handleRandom","randomIndex","floor","random","randomRecord","handleSortByTitle","listOfRecordsCopy","sort","a","b","titleA","titleB","handleSortByArtist","artistA","artistB","handleSortByLabel","labelA","labelB","handleSortByAscPrice","priceA","priceB","handleSortByDesPrice","Button","variant","Row","itemsCountPerPage","totalItemsCount","Col","sm","class","padding","Home","handleFormSubmit","preventDefault","handleChange","handleFileUpload","e","files","file","uploadData","FormData","append","secure_url","onSubmit","aria-describedby","recordService","getAll","api","getOneUser","getOne","updateFave","userId","recordId","put","removeFave","deleteOne","delete","CARD_ELEMENT_OPTIONS","base","color","fontSize","fontFamily","fontSmoothing","invalid","CardSection","options","CheckoutForm","handleSubmit","stripe","elements","card","getElement","CardElement","createToken","result","error","message","token","recordTitle","recordPrice","disabled","InjectedCheckoutForm","stripePromise","loadStripe","RecordDetails","listingId","format","image","mediaCondition","sleeveCondition","weight","catno","comments","defaultImg","favoritedBy","count","isFavourite","getCurrentSessionUser","getSingleRecord","match","params","addFavourite","setPopularity","setCheckout","Container","lg","md","AddRecordPage","history","as","Label","UpdateRecordPage","deleteRecord","withRouter","routeProps","ComponentToShow","component","exact","path","render","App","Signup","Login","Private","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.129a577b.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n\n  signup( email,name, password, profilePic ) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { email, name, password, profilePic })\n      .then((response) => response.data);\n      // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login( email, password ) {\n    const pr = this.auth\n      .post(\"/auth/login\", { email, password })\n      .then((response) => response.data);\n      \n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth\n      .get(\"/auth/logout\")\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth\n      .get(\"/auth/me\")\n      .then((response) => response.data);\n\n    return pr;\n  }\n}\n\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from 'react';\nimport authService from './../lib/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  componentDidMount () {\n    authService.me()\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  signup = (email, name, password, profilePic) => {\n    authService.signup( email, name, password, profilePic )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (email, password) => {\n    authService.login( email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout} }  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return class extends React.Component {\n    render() {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\n\n            return (<WrappedComponent \n                      {...this.props}\n                      isLoggedIn={isLoggedIn} \n                      isLoading={isLoading} \n                      user={user} \n                      signup={signup} \n                      login={login} \n                      logout={logout}\n                    />)\n\n          } }\n        </Consumer>\n        )\n    }\n}\n}\n\n\nexport { AuthProvider, withAuth }","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\n\nclass Navbar extends Component {\n  state = {\n    profilePlaceholder: \"https://image.flaticon.com/icons/png/512/64/64572.png\",\n  };\n\n  render() {\n    // const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className=\"navbar\">\n        {this.props.isLoggedIn ? (\n          <Link to={\"/private\"} id=\"home-btn\">\n            <img\n              className=\"rotate\"\n              src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSeUxokMH9aY_2qzJ6F6M-rBq7oL56zwA2uWw&usqp=CAU\"\n            alt=\"record\"/>\n          </Link>\n        ) : (\n          <Link to={\"/\"} id=\"home-btn\">\n            <img className=\"rotate\" src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSeUxokMH9aY_2qzJ6F6M-rBq7oL56zwA2uWw&usqp=CAU\" alt=\"record\" />\n            </Link>\n        )}\n        <h1 className=\"indeepTitle\">Indeep Records</h1>\n\n\n\n        \n        <div className=\"rightnav\">\n          {this.props.isLoggedIn ? (\n            <>\n              {/* <p>logged in as: {this.props.user && this.props.user.email}</p> */}\n              <p>\n                {this.props.user.profilePic ? (\n                  <img style={{margin: \"20px\"}}\n                    src={this.props.user.profilePic}\n                    alt=\"profile pic\"\n                    width=\"50\"\n                    height=\"60\"\n                  />\n                ) : (\n                  <img style={{margin: \"20px\"}}\n                    src={this.state.profilePlaceholder}\n                    alt=\"profile pic\"\n                    width=\"50\"\n                    height=\"60\"\n                  />\n                )}\n              </p>\n\n              <button onClick={this.props.logout}>Logout</button>\n            </>\n          ) : (\n            <>\n              <Link to=\"/login\">\n                <button className=\"navbar-button\">Login</button>{/* {\" \"} */}\n              </Link>\n              <br />\n              <Link to=\"/signup\">\n                <button className=\"navbar-button\">Sign Up</button>{/* {\" \"} */}\n              </Link>\n            </>\n          )}\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport Form from \"react-bootstrap/Form\"\n\n\n\nclass Search extends Component {\n  state = { search: \"\" };\n\n  handleInput = (event) => {\n    const { value, name } = event.target;\n    this.setState({ [name]: value });\n    this.props.filterRecords(value);\n  };\n  render() {\n    return (\n      <Form>\n      <Form.Group controlId=\"formBasicSearch\">\n\n      <Form.Control type =\"text\" name=\"search\" value={this.state.search}\n          placeholder=\"Search\"\n          onChange={this.handleInput}\n        />\n        </Form.Group>\n       \n      </Form>\n       \n       \n    \n         );\n       }\n     }\n     \n     export default Search;\n      ","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./../App.css\";\nimport authService from \"../lib/auth-service\";\n\nclass ChartsComponent extends Component {\n  state = {};\n\n  componentDidMount() {\n    this.getCurrentUser();\n    this.getNewReleases()\n  }\n\n  getCurrentUser = () => {\n    authService\n      .me()\n      .then((data) => {\n        const { email } = data;\n        this.setState({ currentUser: email });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  getNewReleases = () => {\n    const recordsCopy = [...this.props.newReleases];\n    console.log(this.props)\n    const newReleases = recordsCopy.slice(Math.max(recordsCopy.length-10, 0));\n\n    this.setState({ newReleases: newReleases });\n    \n  };\n  /*   filterRecords = (input) => {\n    const finder = this.state.listOfRecords.filter(\n      (el) =>\n        el.title\n          .toLowerCase()\n          .includes(\n            input.toLowerCase()\n          ) \n    );\n\n    this.setState({ listOfRecords: finder });\n  };\n\n  handleSortByPopularity = () => {\n    const topTen = this.state.listOfRecords.sort((x, y) => {\n      return x.popularity - y.popularity;\n    });\n    this.setState({ listOfRecords: topTen });\n  }; */\n\n  render() {\n    const { newReleases } = this.props;\n\n    return (\n      <div>\n        {/*  {this.props.listOfRecords.map((recordObj) => {\n            return <p key={recordObj._id}>{recordObj.title}</p>;\n          })} */}\n\n        {this.state.newReleases?this.state.newReleases.map((record) => {\n          return (\n            <div key={record._id} className=\"chart-list\">\n              <Link to={`/records/${record._id}`}>\n                <p className=\"chart-text\">{record.title}</p>\n              </Link>\n              <span>artist: {record.artist} </span>\n              <br />\n              <span>label:{record.label} </span>\n              <p>Price: {record.price}€</p>\n            </div>\n          );\n        }):<h1>loading</h1>}\n      </div>\n    );\n  }\n}\n\nexport default ChartsComponent;\n","import React from \"react\";\nexport default class ReactPagination extends React.Component {\n  state = {\n    firstThreeArray: [1],\n    lastNumber: \"\",\n    showEllipis: true\n  };\n  componentDidMount() {\n    if (this.props.totalPages <= 5) {\n      var fArray = [];\n      for (var i = 1; i <= this.props.totalPages; i++) {\n        fArray.push(i);\n      }\n      this.setState({ firstThreeArray: fArray });\n    } else {\n      if (this.props.currentPage < 3) {\n        this.setState({ firstThreeArray: [1, 2, 3] });\n      } else {\n        var fArray = [];\n        var index = 1;\n        for (let j = this.props.currentPage; j >= 0; j--) {\n          fArray.push(j);\n          if (index === 3) {\n            break;\n          }\n          index++;\n        }\n        fArray.reverse();\n        this.setState({ firstThreeArray: fArray });\n      }\n      this.setState({ lastNumber: this.props.totalPages });\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.totalPages <= 5) {\n      var fArray = [];\n      for (var i = 1; i <= nextProps.totalPages; i++) {\n        fArray.push(i);\n      }\n      this.setState({ firstThreeArray: fArray });\n    } else {\n      if (\n        this.props.currentPage !== nextProps.currentPage ||\n        this.props.totalPages !== nextProps.totalPages\n      ) {\n        if (nextProps.currentPage < 3) {\n          this.setState({ firstThreeArray: [1, 2, 3] });\n        } else {\n          var fArray = [];\n          fArray.push(nextProps.currentPage - 1);\n          fArray.push(nextProps.currentPage);\n          if (nextProps.currentPage + 1 < nextProps.totalPages) {\n            fArray.push(nextProps.currentPage + 1);\n          }\n          if (\n            nextProps.currentPage == nextProps.totalPages - 2 ||\n            nextProps.currentPage == nextProps.totalPages - 1 ||\n            nextProps.currentPage == nextProps.totalPages\n          ) {\n            this.setState({ showEllipis: false });\n          } else {\n            this.setState({ showEllipis: true });\n          }\n          this.setState({ firstThreeArray: fArray });\n        }\n        this.setState({ lastNumber: nextProps.totalPages });\n      }\n    }\n  }\n  prev = () => {\n    if (this.props.currentPage > 1) {\n      this.props.changeCurrentPage(this.props.currentPage - 1);\n    }\n  };\n  next = () => {\n    if (this.props.currentPage < this.props.totalPages) {\n      this.props.changeCurrentPage(this.props.currentPage + 1);\n    }\n  };\n  changeCurrentPage = no => {\n    this.props.changeCurrentPage(no);\n  };\n  showEllipsis = () => {\n    if (this.state.showEllipis) {\n      return (\n        <a>\n          <li>...</li>\n        </a>\n      );\n    }\n  };\n  isactive = currentPage => {\n    if (this.props.currentPage == currentPage) {\n      return true;\n    }\n    return false;\n  };\n  showLastPage = () => {\n    if (this.props.currentPage !== this.props.totalPages) {\n      return (\n        <a\n          className={this.isactive(this.props.totalPages) ? \"is-active\" : \"\"}\n          onClick={() => {\n            this.changeCurrentPage(this.props.totalPages);\n          }}\n        >\n          <li>{this.props.totalPages}</li>\n        </a>\n      );\n    }\n  };\n  showPrev = () => {\n    if (this.props.currentPage != 1) {\n      return (\n        <a onClick={this.prev}>\n          <li>{\"<\"}</li>\n        </a>\n      );\n    }\n  };\n  showNext = () => {\n    if (this.props.currentPage < this.props.totalPages) {\n      return (\n        <a onClick={this.next}>\n          <li>{\">\"}</li>\n        </a>\n      );\n    }\n  };\n  render() {\n    return (\n      <div className={this.props.theme + \" pagination\"}>\n        <ul>\n          {this.showPrev()}\n          {this.props.totalPages <= 5 ? (\n            this.state.firstThreeArray.map((no, index) => {\n              return (\n                <a\n                  key={index}\n                  className={this.isactive(no) ? \"is-active\" : \"\"}\n                  onClick={() => {\n                    this.changeCurrentPage(no);\n                  }}\n                >\n                  <li>{no}</li>\n                </a>\n              );\n            })\n          ) : (\n            <React.Fragment>\n              {this.state.firstThreeArray.map((no, index) => {\n                return (\n                  <a\n                    key={index}\n                    className={this.isactive(no) ? \"is-active\" : \"\"}\n                    onClick={() => {\n                      this.changeCurrentPage(no);\n                    }}\n                  >\n                    <li>{no}</li>\n                  </a>\n                );\n              })}\n              {this.showEllipsis()}\n              {this.showLastPage()}\n            </React.Fragment>\n          )}\n          {this.showNext()}\n        </ul>\n      </div>\n    );\n  }\n}\n/* ReactPagination.defaultProps = {\n  theme: \"square-i\",\n  theme: \"default\",\n  currentPage: 1,\n  totalPages: 15\n}; */\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Search from \"../components/Search\";\nimport \"./../App.css\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport authService from \"../lib/auth-service\";\nimport ChartsComponent from \"../components/ChartsComponent\";\n\nimport Pagination from \"./../components/Pagination\";\n\nclass RecordListPage extends Component {\n  state = {\n    listOfRecords: [],\n    currentRecords: [],\n    newReleases: [],\n    currentPage: 1,\n    currentUser: null,\n  };\n\n  changeCurrentPage = (numPage) => {\n    this.setState({ currentPage: numPage });\n  };\n\n  getAllRecords = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/records/`)\n      .then((apiResponse) => {\n        this.setState({ listOfRecords: apiResponse.data });\n      });\n  };\n\n  componentDidMount() {\n    this.getAllRecords();\n    this.getCurrentUser();\n  }\n\n  getCurrentUser = () => {\n    authService\n      .me()\n      .then((data) => {\n        const { email } = data;\n        this.setState({ currentUser: email });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  filterRecords = (input) => {\n    const finder = this.state.listOfRecords.filter(\n      (el) =>\n        el.title.toLowerCase().includes(input.toLowerCase()) ||\n        el.artist.toLowerCase().includes(input.toLowerCase()) ||\n        el.label.toLowerCase().includes(input.toLowerCase())\n    );\n\n    this.setState({ listOfRecords: finder });\n  };\n\n  handleRandom = () => {\n    const randomIndex = Math.floor(\n      this.state.listOfRecords.length * Math.random()\n    );\n    const randomRecord = this.state.listOfRecords[randomIndex];\n    this.setState({ listOfRecords: randomRecord });\n    console.log(randomIndex);\n    console.log(randomRecord);\n    this.filterRecords(randomRecord.title);\n\n    return;\n  };\n\n  handleSortByTitle = () => {\n    const listOfRecordsCopy = [...this.state.listOfRecords];\n    listOfRecordsCopy.sort((a, b) => {\n      const titleA = a.title.toLowerCase();\n      const titleB = b.title.toLowerCase();\n\n      if (titleA < titleB) {\n        // sort strings in ascending order\n        return -1;\n      }\n      if (titleA > titleB) {\n        return 1;\n      }\n      return 0; // if strings are the same\n    });\n\n    this.setState({ listOfRecords: listOfRecordsCopy });\n  };\n\n  handleSortByArtist = () => {\n    const listOfRecordsCopy = [...this.state.listOfRecords];\n    listOfRecordsCopy.sort((a, b) => {\n      const artistA = a.artist.toLowerCase();\n      const artistB = b.artist.toLowerCase();\n\n      if (artistA < artistB) {\n        // sort strings in ascending order\n        return -1;\n      }\n      if (artistA > artistB) {\n        return 1;\n      }\n      return 0; // if strings are the same\n    });\n\n    this.setState({ listOfRecords: listOfRecordsCopy });\n  };\n  handleSortByLabel = () => {\n    const listOfRecordsCopy = [...this.state.listOfRecords];\n    listOfRecordsCopy.sort((a, b) => {\n      const labelA = a.label.toLowerCase();\n      const labelB = b.label.toLowerCase();\n\n      if (labelA < labelB) {\n        // sort strings in ascending order\n        return -1;\n      }\n      if (labelA > labelB) {\n        return 1;\n      }\n      return 0; // if strings are the same\n    });\n\n    this.setState({ listOfRecords: listOfRecordsCopy });\n  };\n\n  handleSortByAscPrice = () => {\n    const listOfRecordsCopy = [...this.state.listOfRecords];\n    listOfRecordsCopy.sort((a, b) => {\n      const priceA = a.price;\n      const priceB = b.price;\n\n      if (priceA < priceB) {\n        // sort strings in ascending order\n        return -1;\n      }\n      if (priceA > priceB) {\n        return 1;\n      }\n      return 0; // if strings are the same\n    });\n\n    this.setState({ listOfRecords: listOfRecordsCopy });\n  };\n\n  handleSortByDesPrice = () => {\n    const listOfRecordsCopy = [...this.state.listOfRecords];\n    listOfRecordsCopy.sort((a, b) => {\n      const priceA = a.price;\n      const priceB = b.price;\n\n      if (priceA < priceB) {\n        // sort strings in ascending order\n        return 1;\n      }\n      if (priceA > priceB) {\n        return -1;\n      }\n      return 0; // if strings are the same\n    });\n\n    this.setState({ listOfRecords: listOfRecordsCopy });\n  };\n\n  render() {\n    const { listOfRecords } = this.state;\n\n    const totalRecords = listOfRecords.length;\n\n    return (\n      <div>\n        <Search filterRecords={this.filterRecords} />\n\n        <Button\n          className=\"mb-2\"\n          variant=\"outline secondary\"\n          onClick={this.getAllRecords}\n        >\n          Show All\n        </Button>\n\n        <Button\n          className=\"mb-2\"\n          variant=\"outline secondary\"\n          onClick={this.handleRandom}\n        >\n          Record of the Day\n        </Button>\n        <Button\n          className=\"mb-2\"\n          variant=\"outline secondary\"\n          onClick={this.handleSortByTitle}\n        >\n          Sort By Title\n        </Button>\n        <Button\n          className=\"mb-2\"\n          variant=\"outline secondary\"\n          onClick={this.handleSortByArtist}\n        >\n          Sort By Artist\n        </Button>\n        <Button\n          className=\"mb-2\"\n          variant=\"outline secondary\"\n          onClick={this.handleSortByLabel}\n        >\n          Sort By Label\n        </Button>\n        <Button\n          className=\"mb-2\"\n          variant=\"outline secondary\"\n          onClick={this.handleSortByAscPrice}\n        >\n          Sort By Price (ascending)\n        </Button>\n        <Button\n          className=\"mb-2\"\n          variant=\"outline secondary\"\n          onClick={this.handleSortByDesPrice}\n        >\n          Sort By Price (descending)\n        </Button>\n        <Row>\n          <div>\n            <div className=\"container\">\n              <p>\n                current Page: <strong>{this.state.currentPage}</strong>\n              </p>\n\n              <Pagination\n                currentPage={this.state.currentPage}\n                itemsCountPerPage={10}\n                totalItemsCount={1910}\n                totalPages={20}\n                changeCurrentPage={this.changeCurrentPage}\n                theme=\"circle\"\n              />\n            </div>\n          </div>\n        </Row>\n        <Row>\n          <Col sm={10}>\n            <div>\n\n            <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n              {listOfRecords.map((record) => (\n                <div key={record._id} className=\"card\">\n                  <Row>\n                    <Col sm={8}>\n                      <Link to={`/records/${record._id}`}>\n                        <h5 className=\"indeepText\">\n                          Record Title : {record.title}\n                        </h5>\n                      </Link>\n                      <p>Artist : {record.artist} </p>\n                      <p>Label : {record.label}</p>\n                      <p>Price: {record.price}€</p>\n                    </Col>\n                    <Col sm={4}>\n                      <img\n                        style={{ width: \"100px\", padding: \"10px\" }}\n                        src=\"https://crossedcombs.typepad.com/.a/6a00e00980a6f38833017c37ab6210970b-pi\"\n                        alt=\"record\"\n                      />\n                      <img\n                        style={{ width: \"100px\", padding: \"10px\" }}\n                        src=\"https://crossedcombs.typepad.com/.a/6a00e00980a6f38833017c37ab6210970b-pi\"\n                        alt=\"record\"\n                      />\n\n                      {this.state.currentUser === \"admin\" ? (\n                        <Link to={`/records/edit/${record._id}`}>\n                          <p>Update or Delete this record</p>\n                        </Link>\n                      ) : null}\n                    </Col>{\" \"}\n                  </Row>\n                </div>\n              ))}\n            </div>\n          </Col>\n          <Col sm={2}>\n            <h3>new releases</h3>\n            {this.state.listOfRecords[0] ? (\n              <ChartsComponent newReleases={this.state.listOfRecords} />\n            ) : null}\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default RecordListPage;\n","import React from \"react\";\nimport RecordListPage from \"./RecordListPage\";\n\n\nfunction Home() {\n  return (\n    <div>\n      {/* get records list  */}\n      <RecordListPage />\n    </div>\n  );\n}\n\nexport default Home;\n","//import { EmailTwoTone } from \"@material-ui/icons\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from './../context/auth-context';\nimport axios from \"axios\"\nimport { Form } from \"react-bootstrap\";\n\nclass Signup extends Component {\n  state = { email: \"\",name: \"\", password: \"\", profilePic: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, name, password, profilePic } = this.state;\n    \n    this.props.signup( email, name, password, profilePic );\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n  handleFileUpload = (e) => {\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"profilePic\", file);\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/auth/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({ profilePic: response.data.secure_url });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n  render() {\n    const { email, name, password, profilePic } = this.state;\n    return (\n      <div>\n        <h1>Sign Up</h1>\n\n        <Form onSubmit={this.handleFormSubmit}>\n        <Form.Group controlId=\"exampleForm.ControlInput1\">\n          <label>Email:</label>\n          <Form.Control type=\"text\" name=\"email\" value={email} onChange={this.handleChange} id=\"exampleInputEmail1\" class=\"form-control\" aria-describedby=\"emailHelp\" />\n          \n          <label>Name:</label>\n          <Form.Control type=\"text\" name=\"name\" value={name} onChange={this.handleChange} id=\"exampleInputName1\" class=\"form-control\" aria-describedby=\"nameHelp\" />\n\n          <label>Password:</label>\n          <Form.Control type=\"password\" name=\"password\" value={password} onChange={this.handleChange} id=\"exampleInputPassword1\" class=\"form-control\" aria-describedby=\"passwordHelp\" />\n          <label>Profile Image</label>\n          <Form.Control\n            name=\"profilePic\"\n            type=\"file\"\n            onChange={this.handleFileUpload}\n          />\n          <span>\n            <img\n              style={{ width: \"100px\" }}\n              src={profilePic && profilePic}\n              alt=\"\"\n            ></img>\n          </span>\n          </Form.Group>\n          <input variant = \"secondary\" type=\"submit\" value=\"Signup\" />\n        </Form>\n        \n        <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link>\n      </div>\n    );\n  }\n}\n\n\n\nexport default withAuth(Signup);\n\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;","import React, { Component } from \"react\";\nimport { Form } from \"react-bootstrap\";\n\nimport { withAuth } from './../context/auth-context';\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    // Call funciton coming from AuthProvider ( via withAuth )\n    this.props.login(email, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login</h1>\n\n        <Form className=\"forms-input\" onSubmit={this.handleFormSubmit}>\n        <Form.Group controlId=\"exampleForm.ControlInput1\">\n          <label>Email:</label>\n          <Form.Control type=\"text\" name=\"email\" value={email} onChange={this.handleChange} id=\"exampleInputEmail1\" className=\"form-control\" aria-describedby=\"emailHelp\" />\n\n          \n          <label>Password:</label>\n          <Form.Control type=\"password\" name=\"password\" value={password} id=\"exampleInputPassword1\" onChange={this.handleChange} className=\"form-control\" aria-describedby=\"passwordHelp\"/>\n</Form.Group>\n          <input variant = \"secondary\" type=\"submit\" value=\"Login\" />\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\n\nimport { Home } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport RecordListPage from \"./RecordListPage\";\nimport authService from \"../lib/auth-service\";\n\nclass Private extends Component {\n  state= {currentUser:null}\n  \n  componentDidMount() {\n  \n    this.getCurrentUser();\n  }\n\n  getCurrentUser = () => {\n    authService.me()\n    .then((data)=>{\n      const {email} = data;\n      console.log(\"data from promise:\", data)\n      this.setState({currentUser: email  });\n      console.log(\"this.state:\", this.state)\n    })\n    .catch((err) => console.log(err));\n};\n  \n  render() {\n    \n    return (\n      <div>\n       \n        {/* \n        <h2>Welcome {this.props.user ? this.props.user.username : null }</h2> \n*/}\n{(this.state.currentUser === \"admin\")\n?\n(<Link to=\"/records/add\">\n <button className=\"navbar-button\">Add Record</button>{\" \"}\n </Link>)\n :  \n <div>\n <h4>Welcome {this.props.user && this.props.user.email}</h4>\n{/* {this.props.user.favouriteRecords[0] ? <p> your favourite records:\n  {this.props.favouriteRecords.map((fav) => (\n                <div key={fav._id} className=\"card\">\n                <p>{fav._id}</p>\n                </div>))}\n</p>: <p>suggestions for you: </p>} */}\n\n\n\n\n </div>\n} \n\n       \n        <br /> \n{/*}\n        {/*<Switch>\n         <PrivateRoute\n            exact\n            path=\"/records/edit/:id\"\n            component={UpdateRecordPage}\n          />\n          <PrivateRoute exact path=\"/records/add\" component={AddRecordPage} />\n        </Switch> */}\n        <RecordListPage />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Private);\n","import axios from \"axios\";\n\n// THIS IS AN EXAMPLE THAT YOU CAN USE\n// TO CREATE A SERVICE FOR YOUR AXIOS CALLS\nclass RecordService {\n  constructor() {\n    // this.api  is a reusable base of the request containing the base url (baseURL)\n    // of the API and the options ( `withCredentials: true` )\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_URL+\"/api\",\n      withCredentials: true,\n    });\n  }\n\n  getAll = () => {\n    const pr = this.api.get(\"/records\");\n    return pr;\n  };\n\n  getOneUser = (id) => {\n    const pr = this.api.get(`/users/${id}`).then((apiResponse) => {\n      return apiResponse.data;\n    });\n    return pr;\n  };\n\n  getOne = (id) => {\n    const pr = this.api.get(`/records/${id}`).then((apiResponse) => {\n      return apiResponse.data;\n    });\n    return pr;\n  };\n\n  create = (data) => {\n    const pr = this.api.post(`/records`, data);\n    return pr;\n  };\n\n  /* updateOneRecord = (id) => {\n  const pr = this.api.put(`/records/${id}`);\n  return pr;\n}\n */\n  /* updateOneUser = (id) => {\n  const pr = this.api.put(`/users/${id}`);\n  return pr;\n} */\n\n  updateFave = (userId, recordId) => {\n    const pr = this.api.put(`/users/${userId}/records/${recordId}`);\n    return pr;\n  };\n\n  removeFave = (recordId, userId) => {\n    const pr = this.api.put(`/records/${recordId}/users/${userId}`);\n    return pr;\n  };\n\n\n\n  deleteOne = (id) => {\n    const pr = this.api.delete(`/records/${id}`);\n    return pr;\n  };\n}\n\n// Create instance (object) containing all axios calls as methods\nconst recordService = new RecordService();\n\nexport default recordService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from \"react\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\n\nconst CARD_ELEMENT_OPTIONS = {\n  style: {\n    base: {\n      color: \"#303238\",\n      fontSize: \"16px\",\n      fontFamily: \"sans-serif\",\n      fontSmoothing: \"antialiased\",\n      \"::placeholder\": {\n        color: \"#CFD7DF\"\n      }\n    },\n    invalid: {\n      color: \"#e5424d\",\n      \":focus\": {\n        color: \"#303238\"\n      }\n    }\n  }\n};\n\nfunction CardSection() {\n  return (\n    <label>\n      Card details\n      <CardElement options={CARD_ELEMENT_OPTIONS} />\n    </label>\n  );\n}\n\nexport default CardSection;","import React from \"react\";\nimport { ElementsConsumer, CardElement } from \"@stripe/react-stripe-js\";\n\nimport CardSection from \"./CardSection\";\n\nclass CheckoutForm extends React.Component {\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    const { stripe, elements } = this.props;\n    if (!stripe || !elements) {\n      return;\n    }\n\n    const card = elements.getElement(CardElement);\n    const result = await stripe.createToken(card);\n    if (result.error) {\n      console.log(result.error.message);\n    } else {\n      console.log(result.token);\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div class=\"product-info\">\n          <h3 className=\"product-title\">{this.props.recordTitle}</h3>\n          <h4 className=\"product-price\">{this.props.recordPrice}</h4>\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <CardSection />\n          <button disabled={!this.props.stripe} className=\"btn-pay\">\n            Buy Now\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default function InjectedCheckoutForm() {\n  return (\n    <ElementsConsumer>\n      {({ stripe, elements }) => (\n        <CheckoutForm stripe={stripe} elements={elements} />\n      )}\n    </ElementsConsumer>\n  );\n}","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport recordService from \"./../lib/records-service\";\nimport authService from \"./../lib/auth-service\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport CheckoutForm from \"./CheckoutForm\";\n\nconst stripePromise = loadStripe(\"pk_test_51HykoTFq2ycg13FNvuYLaF0ahXb5GLoqRe2KTQSQsWbCRzdSPw9NBIIUclD8i3EvDSG3e7kqU5IwdBSI8bXhXeg800d9VLE2v4\");\n\n\n\nclass RecordDetails extends Component {\n  state = {\n    id: \"\",\n    recordId: \"\",\n    listingId: \"\",\n    title: \" \",\n    artist: \" \",\n    format: \"\",\n    image: \"\",\n    label: \"\",\n    mediaCondition: \"\",\n    sleeveCondition: \"\",\n    weight: \"\",\n    catno: \"\",\n    comments: \"\",\n    price: 0,\n    defaultImg: \"./../images/recordPlaceholderImage.jpeg\",\n    favoritedBy: [],\n    count: 0,\n    currentUser: null,\n    isFavourite: false,\n  \n  };\n\n\n  componentDidMount() {\n    this.getSingleRecord();\n    this.getCurrentSessionUser();\n  }\n\n  getCurrentSessionUser = () => {\n    authService.me().then((data) => {\n      const { _id } = data;\n      console.log(\"id of current session user\", _id);\n      console.log(\"data from promise:\", data);\n      this.setState({ currentUser: _id });\n      console.log(\"this.state:\", this.state);\n      recordService\n        .getOneUser(_id)\n        .then((user) => {\n          console.log(\"currentUser from DB: \", user);\n          const { _id } = user;\n          this.setState({ currentUser: _id });\n          console.log(\"this.state.currentUser:\", this.state.currentUser);\n          console.log(\"userId:\", _id);\n        })\n        .catch((err) => console.log(err));\n    });\n  };\n\n  getSingleRecord = () => {\n    const { id } = this.props.match.params;\n    console.log(\"record id:\", id);\n    recordService\n      .getOne(id)\n      .then((data) => {\n        console.log(\"data from getsinglerecord\", data);\n        //const theRecord = {data}\n        const {\n          id,\n          listingId,\n          title,\n          artist,\n          format,\n          image,\n          label,\n          mediaCondition,\n          sleeveCondition,\n          weight,\n          catno,\n          comments,\n          price,\n          favoritedBy,\n        } = data;\n\n        this.setState({\n          id,\n          listingId,\n          title,\n          artist,\n          format,\n          image,\n          label,\n          mediaCondition,\n          sleeveCondition,\n          weight,\n          catno,\n          comments,\n          price,\n          favoritedBy,\n        });\n      })\n\n      .catch((err) => console.log(err));\n  };\n\n  addFavourite = () => {\n    /* this.state.isFavourite\n      ? (this.setState({ isFavourite: false}))\n     \n      : this.setState({ isFavourite: true }); */\n    this.setState({ isFavourite: !this.state.isFavourite });\n    const userId = this.state.currentUser;\n    const { id } = this.props.match.params;\n    const recordId = id;\n    console.log(\"isFavourite:\", this.state.isFavourite);\n    console.log(\"record id:\", id);\n    console.log(\"userid:\", userId);\n\n    if (this.state.isFavourite === false) {\n      recordService\n        .updateFave(userId, recordId)\n        .then()\n        .catch((error) => console.log(error));\n    } else {\n      recordService\n        .removeFave(recordId, userId)\n        .then()\n        .catch((error) => console.log(error));\n    }\n  };\n\n  setPopularity = (id) => {\n    //get\n  };\n\n  setCheckout = () => {};\n  render() {\n    \n    return (\n      <Container className=\"card\">\n        <Row>\n          <Col className=\"details-labels\" lg={6}>\n            <h3>{this.state.title}</h3>\n            <h4>{this.state.artist}</h4>\n            <p className=\"details-labels\">label: {this.state.label}</p>\n            <p>format: {this.state.format}</p>\n            <p>label: {this.state.label}</p>\n            <p>media condition: {this.state.mediaCondition}</p>\n            <p>sleeve condition: {this.state.sleeveCondition}</p>\n            <p>weight: {this.state.weight}g</p>\n            <p>catalogue no.: {this.state.catno}</p>\n            <p>comments: {this.state.comments}</p>\n            <div>price: {this.state.price}€</div>\n            <br />\n            <Link to={\"/\"}>see all</Link>\n          </Col>\n          <Col md={3}>\n            <img\n              style={{ width: \"200px\" }}\n              src=\"https://www.saga.co.uk/contentlibrary/saga/publishing/verticals/money/personal-finance/making-money/selling-vinyl-shutterstock-234267241.jpg\"\n              alt=\"record\"\n            />\n            <img\n              style={{ width: \"200px\" }}\n              src=\"https://www.saga.co.uk/contentlibrary/saga/publishing/verticals/money/personal-finance/making-money/selling-vinyl-shutterstock-234267241.jpg\"\n              alt=\"record\"\n            />\n            <br />\n\n            {this.state.isFavourite ? (\n              <button onClick={this.addFavourite}>\n                Remove from favourites\n              </button>\n            ) : (\n              <button onClick={this.addFavourite}>Add to favourites</button>\n            )}\n          </Col>\n          <Col sm={3}>\n          <div className=\"App\">\n      <div className=\"product\">\n        \n        <div>\n          <Elements stripe={stripePromise}>\n            <CheckoutForm recordTitle={this.state.title} recordPrice={this.state.price}/>\n          </Elements>\n        </div>\n      </div>\n    </div>\n\n      \n    \n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default RecordDetails;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {Redirect} from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\n\nimport Container from \"react-bootstrap/Container\"\n\nclass AddRecordPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      artist: \"\",\n      format: \"\",\n      image: \"\",\n      label: \"\",\n      mediaCondition: \"\",\n      sleeveCondition: \"\",\n      weight: \"\",\n      comments: \"\",\n      catno: \"\",\n      price: 0,\n    };\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const {\n      title,\n      artist,\n      format,\n      image,\n      label,\n      mediaCondition,\n      sleeveCondition,\n      weight,\n      comments,\n      catno,\n      price,\n    } = this.state;\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/records`, {\n        title,\n        artist,\n        format,\n        image,\n        label,\n        mediaCondition,\n        sleeveCondition,\n        weight,\n        comments,\n        catno,\n        price,\n      }, {withCredentials:true})\n      .then(() => {\n        this.setState({\n          title: \"\",\n          artist: \"\",\n          format: \"\",\n          image: \"\",\n          label: \"\",\n          mediaCondition: \"\",\n          sleeveCondition: \"\",\n          weight: \"\",\n          comments: \"\",\n          catno: \"\",\n          price: 0,\n        });\n        this.props.history.push(\"/\");\n      })\n\n      .catch((err) => console.log(err));\n      return <Redirect to=\"/\" />\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <Container className = \"card\">\n      <Form className= \"forms-input\" onSubmit={this.handleFormSubmit}>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"exampleForm.ControlTitle\">\n            <Form.Label>Title:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"title\"\n              value={this.state.title}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"exampleForm.ControlLabel\">\n            <Form.Label>Artist:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"artist\"\n              value={this.state.artist}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n        </Form.Row>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"exampleForm.ControlmediaCond\">\n            <Form.Label>Media Condition:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"mediaCondition\"\n              value={this.state.mediaCondition}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"exampleForm.ControlsleeveCond\">\n            <Form.Label>Sleeve Condition:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"sleeveCondition\"\n              value={this.state.sleeveCondition}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n        </Form.Row>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"exampleForm.ControlFormat\">\n            <Form.Label>Format:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"format\"\n              value={this.state.format}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group as={Col} controlId=\"exampleForm.ControlWeight\">\n            <Form.Label>Weight (grammes):</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"weight\"\n              value={this.state.weight}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"exampleForm.ControlCatNo\">\n            <Form.Label>Catalogue Number:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"catno\"\n              value={this.state.catno}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n        </Form.Row>\n        <Form.Row>\n          <Form.Group as={Col} md={8} controlId=\"exampleForm.ControlComments\">\n            <Form.Label>Comments:</Form.Label>\n            <Form.Control\n              type=\"textarea\"\n              name=\"comments\"\n              value={this.state.comments}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group as={Col} md={4} controlId=\"exampleForm.ControlPrice\">\n            <Form.Label>Price (€):</Form.Label>\n            <Form.Control\n              id=\"price-field\"\n              type=\"text\"\n              name=\"price\"\n              value={this.state.price}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n        </Form.Row>\n\n          <input variant = \"secondary\" type=\"submit\" value=\"Add Record\" />\n        </Form>\n      </Container>\n    );\n  }\n}\n\nexport default AddRecordPage;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router\";\nimport recordService from \"./../lib/records-service\";\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\n\nclass UpdateRecordPage extends Component {\n  state = {\n    title: \"\",\n    artist: \"\",\n    format: \"\",\n    label: \"\",\n    mediaCondition: \"\",\n    sleeveCondition: \"\",\n    weight: \"\",\n    catno: \"\",\n    comments: \"\",\n    image: \"\",\n    price: 0,\n  };\n\n  componentDidMount() {\n    this.getSingleRecord();\n  }\n\n  getSingleRecord = () => {\n    const { id } = this.props.match.params;\n    console.log(\"id:\", id);\n    recordService\n      .getOne(id)\n      .then((data) => {\n        console.log(data);\n\n        const {\n          listingId,\n          title,\n          artist,\n          format,\n          image,\n          label,\n          mediaCondition,\n          sleeveCondition,\n          weight,\n          catno,\n          comments,\n          price,\n        } = data;\n        this.setState({\n          listingId,\n          title,\n          artist,\n          format,\n          image,\n          label,\n          mediaCondition,\n          sleeveCondition,\n          weight,\n          catno,\n\n          comments,\n          price,\n        });\n      })\n\n      .catch((err) => console.log(err));\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const {\n      title,\n      artist,\n      format,\n      label,\n      mediaCondition,\n      sleeveCondition,\n      weight,\n      catno,\n      image,\n      comments,\n      price,\n    } = this.state;\n    const { id } = this.props.match.params;\n\n    axios\n      .put(`${process.env.REACT_APP_API_URL}/api/records/${id}`, {\n        title,\n        artist,\n        format,\n        label,\n        mediaCondition,\n        sleeveCondition,\n        weight,\n        catno,\n        image,\n        comments,\n        price,\n      })\n      .then(() => {\n        this.getSingleRecord();\n        this.props.history.push(\"/\");\n      })\n\n      .catch((err) => console.log(err));\n  };\n\n  deleteRecord = () => {\n    const { id } = this.props.match.params;\n\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}/api/records/${id}`)\n      .then(() => this.props.history.push(\"/\")) // causes Router URL change\n      .catch((err) => console.log(err));\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n  render() {\n    return (\n      <Container className=\"card\">\n        <Form className=\"forms-input\" onSubmit={this.handleFormSubmit}>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"exampleForm.ControlTitle\">\n              <Form.Label>Title:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n\n            <Form.Group as={Col} controlId=\"exampleForm.ControlLabel\">\n              <Form.Label>Artist:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"artist\"\n                value={this.state.artist}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"exampleForm.ControlmediaCond\">\n              <Form.Label>Media Condition:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"mediaCondition\"\n                value={this.state.mediaCondition}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n\n            <Form.Group as={Col} controlId=\"exampleForm.ControlsleeveCond\">\n              <Form.Label>Sleeve Condition:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"sleeveCondition\"\n                value={this.state.sleeveCondition}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"exampleForm.ControlFormat\">\n              <Form.Label>Format:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"format\"\n                value={this.state.format}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"exampleForm.ControlWeight\">\n              <Form.Label>Weight (grammes):</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"weight\"\n                value={this.state.weight}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n\n            <Form.Group as={Col} controlId=\"exampleForm.ControlCatNo\">\n              <Form.Label>Catalogue Number:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"catno\"\n                value={this.state.catno}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} md={8} controlId=\"exampleForm.ControlComments\">\n              <Form.Label>Comments:</Form.Label>\n              <Form.Control\n                type=\"textarea\"\n                name=\"comments\"\n                value={this.state.comments}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n            <Form.Group as={Col} md={4} controlId=\"exampleForm.ControlPrice\">\n              <Form.Label>Price (€):</Form.Label>\n              <Form.Control\n                id=\"price-field\"\n                type=\"text\"\n                name=\"price\"\n                value={this.state.price}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n          </Form.Row>\n          {/*           <Button variant=\"secondary\" onClick={this.handleSubmit}>Update Record</Button>\n           */}{\" \"}\n          <input variant=\"secondary\" type=\"submit\" value=\"Update Record\" />\n          <br />\n          <Button variant=\"secondary\" onClick={this.deleteRecord}>\n            Delete Record\n          </Button>\n        </Form>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(UpdateRecordPage);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/private\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport Private from \"./pages/Private\";\nimport RecordDetails from \"./components/RecordDetails\";\nimport AddRecordPage from \"./pages/AddRecordPage\";\nimport UpdateRecordPage from \"./pages/UpdateRecordPage\";\n\nimport AnonRoute from \"./components/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport CheckoutForm from \"./components/CheckoutForm\";\n\nconst stripePromise = loadStripe(\"pk_test_51HykoTFq2ycg13FNvuYLaF0ahXb5GLoqRe2KTQSQsWbCRzdSPw9NBIIUclD8i3EvDSG3e7kqU5IwdBSI8bXhXeg800d9VLE2v4\");\n\n\nclass App extends Component {\n\n\n\n  render() {\n    \n    return (\n      <div className=\"container\">\n        <Navbar />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <PrivateRoute exact path=\"/records/add\" component={AddRecordPage} />\n          <Route exact path=\"/records/:id\" component={RecordDetails} />\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          <PrivateRoute exact path=\"/private\" component={Private} />\n          <PrivateRoute exact path=\"/records/edit/:id\" component={UpdateRecordPage}/>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}